const map = [
  ["1", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-","-","-","-", "2"],
  ["|", " ", " ", "-", "-", "-", " ", " ", "2", "-", "-", " ", " ", " ", "-", "-","-", "|"],
  ["|", "4", "|", "4", " ", " ", " ", " ", "4", "-", " ", "|", " ", "-", "|", " ","|", "|"],
  ["|", "|", "3", "-", "-", "-", " ", " ", " ", " ", "-", "-", " ", "-", "|", " ","|", "|"],
  ["|", "|", " ", "|", "-", " ", "1", "-", "-", "-", " ", "|", "1", "-", " ", "4","-", "|"],
  ["|", "|", "|", "|", "-", " ", "4", " ", " ", "-", " ", " ", " ", "|", " ", "-","-", "|"],
  ["|", "4", " ", " ", " ", "3", " ", " ", "4", "4", " ", " ", " ", " ", " ", "|"," ", "|"],
  ["|", " ", "2", "-", "-", "-", " ", " ", "1", "2", "|", "|", "-", "2", " ", " ","2", "|"],
  ["|", "|", "|", " ", " ", " ", " ", "1", "3", " ", "|", "-", "|", "-", "-", " ","|", "|"],
  ["|", "|", "4", "3", "-", "-", "-", "3", "1", " ", " ", " ", " ", "|", " ", "-","|", "|"],
  ["|", "4", " ", "-", "-", "-", "2", "-", "-", " ", "-", "-", "1", " "," ", "2"," ", "|"],
  ["|", "-", "-", "-", " ", " ", " ", " ", "-", "-", "-", " ", " ", " ", " ", " "," ", "|"],
  ["4", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-","-","-","-", "3"],
];

function replaceSpacesWithStars(arr) {
  for (const innerArray of arr) {
    const spacesCount = innerArray.filter((elem) => elem === " ").length;
    const randomCount = getRandomInt(spacesCount - 1) + 2;
    let replacedCount = 0;
    for (let i = 0; i < innerArray.length; i++) {
      if (innerArray[i] === " ") {
        innerArray[i] = "star";
        replacedCount++;
        if (replacedCount === randomCount) {
          break;
        }
      }
    }
  }
}

function getRandomInt(n) {
  return Math.floor(Math.random() * (n + 2));
}

replaceSpacesWithStars(map);

console.log(map);
